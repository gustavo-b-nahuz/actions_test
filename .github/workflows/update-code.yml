name: Sync Files Between Repositories

on:
    push:
        paths:
            - folder/test.py # Arquivo monitorado no repositório de origem

jobs:
    sync:
        runs-on: ubuntu-latest

        steps:
            # Checkout do repositório de origem
            - name: Checkout Source Repository
              uses: actions/checkout@v3
              with:
                  fetch-depth: 0

            # Sincronizar o arquivo para o repositório de destino
            - name: Sync File to Destination Repository
              uses: repo-sync/repo-file-sync-action@v2
              with:
                  source_file: folder/test.py
                  destination_repo: gustavo-b-nahuz/playwright-test
                  destination_branch: main
                  destination_file: folder/test.py
                  github_token: ${{ secrets.GITHUB_TOKEN }}
